<!-- Chart.js from CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div class="dashboard-stats-container">
    <!-- Filters Section -->
    <?= $this->makePartial('filters') ?>

    <!-- Alert Banner -->
    <div id="alert-banner">
        <?= $this->makePartial('alerts') ?>
    </div>

    <!-- KPI Cards -->
    <div id="kpi-cards">
        <?= $this->makePartial('kpis') ?>
    </div>

    <!-- Tab Navigation -->
    <div class="dashboard-tabs">
        <ul class="nav nav-tabs" id="dashboardTabs">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#" data-tab="overview" data-request="onLoadOverview">
                    <i class="icon-dashboard"></i> Vue globale
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#" data-tab="revenue" data-request="onLoadRevenue">
                    <i class="icon-euro"></i> Revenus
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#" data-tab="bookings" data-request="onLoadBookings">
                    <i class="icon-calendar-check-o"></i> Réservations
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#" data-tab="properties" data-request="onLoadProperties">
                    <i class="icon-home"></i> Biens
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#" data-tab="expenses" data-request="onLoadExpenses">
                    <i class="icon-credit-card"></i> Dépenses
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#" data-tab="channels" data-request="onLoadChannels">
                    <i class="icon-share-alt"></i> Canaux
                </a>
            </li>
        </ul>
    </div>

    <!-- Tab Content -->
    <div id="tab-content" class="tab-content-wrapper">
        <?= $this->makePartial('tabs/overview') ?>
    </div>
</div>

<!-- Alerts Detail Modal -->
<div class="modal fade" id="alertsModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="icon-warning"></i> Alertes actives</h5>
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
            </div>
            <div class="modal-body" id="alerts-modal-content">
                <!-- Content loaded via AJAX -->
            </div>
        </div>
    </div>
</div>
