<?php if ($alerts['has_alerts']): ?>
<div class="alert alert-<?= $alerts['level'] ?> alert-dismissible dashboard-alert-banner" role="alert">
    <div class="d-flex align-items-center justify-content-between">
        <div class="alert-content">
            <i class="icon-warning"></i>
            <strong><?= $alerts['total'] ?> alerte(s) active(s) :</strong>
            <span class="alert-summary"><?= e($alerts['message']) ?></span>
        </div>
        <div class="alert-actions">
            <button type="button" class="btn btn-sm btn-outline-light"
                    data-request="onGetAlertsDetail"
                    data-request-success="$('#alertsModal').modal('show')">
                <i class="icon-list"></i> Voir détails
            </button>
        </div>
    </div>

    <?php if (!empty($alerts['items'])): ?>
    <div class="alert-details mt-2">
        <small>
            <?= implode(' • ', array_slice($alerts['items'], 0, 3)) ?>
            <?php if (count($alerts['items']) > 3): ?>
                <em>et <?= count($alerts['items']) - 3 ?> autre(s)...</em>
            <?php endif; ?>
        </small>
    </div>
    <?php endif; ?>
</div>
<?php else: ?>
<div class="alert alert-success dashboard-alert-banner" role="alert">
    <i class="icon-check"></i>
    <strong>Tout va bien !</strong> Aucune alerte active.
</div>
<?php endif; ?>
